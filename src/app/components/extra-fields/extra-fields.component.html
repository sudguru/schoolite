<div class="f-parent f-space-between f-align-top f-row">
  <h3 mat-dialog-title fxFlex="auto">Manage Resource Centres</h3>
  <mat-icon fxFlex="40px" (click)="close()" style="cursor: pointer; font-size: 120%">close</mat-icon>
</div>
<mat-dialog-content>
  <table class="table table-striped table-hover table-bordered">
    <thead>
      <tr>
        <th>SN</th>
        <th>Extra Field</th>
        <th>Type</th>
        <th>Sub Fields</th>
        <th>Order</th>
        <th>&nbsp;</th>
      </tr>

    </thead>
    <tbody>
      <tr *ngFor="let extra_field of extra_fields; let i = index">
        <td>{{i+1}}</td>
        <td>
          <input (change)="updateEF(extra_field)" type="text" matInput placeholder="Field Name" [(ngModel)]="extra_field.field_name"
            class="dialog-text-box">
        </td>
        <td>
          <input (change)="updateEF(extra_field)" type="text" matInput placeholder="Single or Table" [(ngModel)]="extra_field.field_type"
            class="dialog-text-box">
        </td>
        <td>
          <input (change)="updateEF(extra_field)" type="text" matInput placeholder="Comma separated list if Table"
            [(ngModel)]="extra_field.sub_fields" class="dialog-text-box">
        </td>
        <td>
          <input (change)="updateEF(extra_field)" type="text" matInput placeholder="Display Order" [(ngModel)]="extra_field.display_order"
            class="dialog-text-box">
        </td>

        <td style="padding: 0"><button style="margin: 0" mat-button (click)="deleteEF(extra_field)" color="danger">Delete</button></td>
      </tr>
      <tr>
        <td>NEW</td>
        <td>
          <input type="text" matInput placeholder="Field Name" [(ngModel)]="newEF.field_name" class="dialog-text-box">
        </td>
        <td>
          <input type="text" matInput placeholder="Single or Table" [(ngModel)]="newEF.field_type" class="dialog-text-box">
        </td>
        <td>
          <input type="text" matInput placeholder="Comma separated list if Table" [(ngModel)]="newEF.sub_fields" class="dialog-text-box">
        </td>
        <td>
          <input type="text" matInput placeholder="Display Order" [(ngModel)]="newEF.display_order" class="dialog-text-box">
        </td>
        <td style="padding:0">
          <button style="margin:0" mat-button (click)="updateEF(newEF)" color="primary">Save</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="token.is_admin === 1">
    <h4>Deleted Data</h4>
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th>SN</th>
          <th>Extra Field</th>
          <th>Type</th>
          <th>Sub Fields</th>
          <th>Order</th>
          <th>&nbsp;</th>
        </tr>

      </thead>
      <tbody>
        <tr *ngFor="let extra_field of deletedEFs; let i = index">
          <td>{{i+1}}</td>
          <td>
            {{extra_field.field_name}}
          </td>
          <td>
            {{extra_field.field_type}}
          </td>
          <td>
            {{extra_field.sub_fields}}
          </td>
          <td>
            {{extra_field.display_order}}
          </td>

          <td style="padding: 0"><button style="margin: 0" mat-button (click)="restoreEF(extra_field)" color="danger">Restore</button></td>
        </tr>
      </tbody>
    </table>
  </div>

</mat-dialog-content>
